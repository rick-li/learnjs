<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>REACTJS POC</title>
  <style>
  </style>
</head>

<body>
  <span>Page Header</span>
  <div id="container"></div>

  <script src="../bower_components/react/react.js"></script>
  <script src="../bower_components/react/JSXTransformer.js"></script>

  <script type="text/jsx">
    /**
     * @jsx React.DOM
     */
    var Hello = React.createClass({
      changeState: function() {
        var newClickNum = this.state.clickNum + 1;
        this.setState({clickNum: newClickNum});
        this.refs.subComp.getDOMNode().focus();
      },
      changeProp: function() {
        var age = this.props.age + 1;
        this.setProps({age: age});
        // this.props.age = age;
        //change prop won't update view
        // this.forceUpdate(); //force update will call render
      },
      getInitialState: function() {
        return {name: 'Foo', clickNum: 0};
      },
      childCount: function() {
        alert(React.Children.count(this.props.children));
      },
      render: function() {
        var that = this;
        return <div>
        <button onClick={this.childCount}>child count</button>
        <button onClick={this.changeProp}>change prop</button>
        <button onClick={this.increaseNum}>change state</button><div >Hello world {this.state.name} {this.state.clickNum} {this.props.age}</div></div>
      }
    });

    var SubComp = React.createClass({
      render: function() {
        return <div>child</div>
      }
    })

    window.HelloComp = React.renderComponent(
        <Hello age={12}>
        <div>sdfafdasf</div>
         <input type="text" value="asdfad"/>
        <SubComp ref="subComp"/>

        </Hello>,
        document.getElementById('container')
    );

  </script>
</body>

</html>
